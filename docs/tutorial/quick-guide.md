# Краткое руководство по Calibration Processing

## Быстрый старт

### 1. Подготовка данных

```
проект/
├── data/
│   ├── relative/           # Файлы CG-6 (*.dat)
│   └── absolute.xlsx       # Опорные значения  
└── результаты/
```

### 2. Запуск

```bash
# GUI режим (рекомендуется)
python scripts/calibration.py

# Командная строка
python scripts/calibration.py --relative data/relative/*.dat --absolute data/absolute.xlsx
```

### 3. Результаты

Программа создает файл Excel с двумя листами:
- **calibration_parameters** - коэффициенты калибровки
- **fitted_ties** - результаты свободного уравнивания

## Требования к данным

### Файл absolute.xlsx должен содержать:

| Колонка | Описание | Единицы |
|---------|----------|---------|
| Station | Название точки | - |
| gravity_eff | Ускорение силы тяжести эффективной высоте абсолютного гравиметра | мГал |
| h_eff | Эффективная высота абсолютного гравиметра | м |
| a | Коэффициент полинома аппроксимации вертикального градиента 1-ой степени | мГал/м |
| b | Коэффициент полинома аппроксимации вертикального градиента 2-ой степени | мГал²/м² |
| ua | Стандартная неопределенность коэффициента a | мГал/м |
| ub | Стандартная неопределенность коэффициента b | мГал²/м² |
| covab | Ковариация a-b | - |

### Файлы CG-6 (*.dat)

Стандартные файлы данных с прибора Scintrex CG-6, содержащие:
- Метаданные в заголовке (строки с `/`)
- Таблицу измерений с обязательными колонками:
  - Station, Date, Time, CorrGrav, StdErr

## Основные параметры

- **method** - тип уравнивания по МНК (WLS/OLS/RLM)
- **drift_degree** - максимальная степень аппроксимации дрейфа (1 или 2)
- **calib_degree** - максимальная степень аппроксимации калибровочной функции (1 или 2)  
- **meter_height** - высота сенсора гравиметра Scintrex CG-6 (м)

## Оценка качества

**Хорошие показатели:**
- Стандартное отклонение < 0.01 мГал
- Среднее отклонение ≈ 0 мГал
- Коэффициент калибровки близок к 1.0

## Типичные проблемы

1. **Несоответствие названий станций** - проверьте точное совпадение Station во всех файлах
2. **Неверный формат absolute.xlsx** - убедитесь в наличии всех обязательных колонок
3. **Высокие остатки** - проверьте качество исходных данных

## Контакты

**Автор:** Roman Sermiagin  
**Email:** roman.sermiagin@gmail.com