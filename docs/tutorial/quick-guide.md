# Краткое руководство по Calibration Processing

## Быстрый старт

### 1. Подготовка данных

```
проект/
├── data/
│   ├── relative/           # Файлы CG-6 (*.dat)
│   └── absolute.xlsx       # Опорные значения  
└── результаты/
```

### 2. Запуск

```bash
# GUI режим (рекомендуется)
python scripts/calibration.py

# Командная строка
python scripts/calibration.py --relative data/relative/*.dat --absolute data/absolute.xlsx
```

### 3. Результаты

Программа создает файл Excel с двумя листами:
- **calibration_parameters** - коэффициенты калибровки
- **fitted_ties** - детальные результаты привязки

## Требования к данным

### Файл absolute.xlsx должен содержать:

| Колонка | Описание | Единицы |
|---------|----------|---------|
| Station | Название точки | - |
| gravity_eff | Абсолютная гравитация | мГал |
| h_eff | Высота измерения | м |
| a | Вертикальный градиент | мГал/м |
| b | Квадратичный градиент | мГал/м² |
| ua | Ошибка градиента a | мГал/м |
| ub | Ошибка градиента b | мГал/м² |
| covab | Ковариация a-b | - |

### Файлы CG-6 (*.dat)

Стандартные файлы экспорта с прибора, содержащие:
- Метаданные в заголовке (строки с `/`)
- Таблицу измерений с обязательными колонками:
  - Station, Date, Time, CorrGrav, StdErr

## Основные параметры

- **method** - метод расчета (WLS/OLS/RLM)
- **drift_degree** - степень дрейфа (1 или 2)
- **calib_degree** - степень калибровки (1 или 2)  
- **meter_height** - высота прибора (м)

## Оценка качества

**Хорошие показатели:**
- Стандартное отклонение < 0.01 мГал
- Среднее отклонение ≈ 0 мГал
- Коэффициент калибровки близок к 1.0

## Типичные проблемы

1. **Несоответствие названий станций** - проверьте точное совпадение Station в обоих файлах
2. **Неверный формат absolute.xlsx** - убедитесь в наличии всех обязательных колонок
3. **Высокие остатки** - проверьте качество исходных данных

## Контакты

**Автор:** Roman Sermiagin  
**Email:** roman.sermiagin@gmail.com